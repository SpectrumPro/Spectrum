[gd_scene load_steps=10 format=3 uid="uid://cgkb6rh0joakn"]

[ext_resource type="Script" uid="uid://ddcbvxctik0tr" path="res://panels/UIPanelSettings/UiPanelSettings.gd" id="1_4hx28"]
[ext_resource type="StyleBox" uid="uid://drpfuhk8y61xk" path="res://assets/styles/SolidPanelPopup.tres" id="1_i7um0"]
[ext_resource type="StyleBox" uid="uid://csle20exwqtti" path="res://assets/styles/PanelMenuBar.tres" id="2_gjdbe"]
[ext_resource type="Texture2D" uid="uid://bly6v8fqc5sdb" path="res://assets/icons/Panel.svg" id="4_1jyub"]
[ext_resource type="PackedScene" uid="uid://dfu5s8fjy0ex4" path="res://components/UIPanel/EditControls.tscn" id="5_33jeb"]
[ext_resource type="Script" uid="uid://c20borh60xiu1" path="res://panels/UIPanelSettings/Shortcuts.gd" id="6_ct4k6"]
[ext_resource type="Texture2D" uid="uid://bbennjke0ioen" path="res://assets/icons/Add.svg" id="6_i3a75"]
[ext_resource type="Texture2D" uid="uid://f8q8t2pxjmkl" path="res://assets/icons/remove_24dp_FFFFFF_FILL0_wght400_GRAD0_opsz24.svg" id="8_ct4k6"]

[sub_resource type="ButtonGroup" id="ButtonGroup_i7um0"]

[node name="UiPanelSettings" type="PanelContainer" node_paths=PackedStringArray("_shortcuts", "edit_controls")]
visible = false
anchors_preset = 8
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
offset_left = -505.0
offset_top = -300.0
offset_right = 505.0
offset_bottom = 300.0
grow_horizontal = 2
grow_vertical = 2
theme_override_styles/panel = ExtResource("1_i7um0")
script = ExtResource("1_4hx28")
_shortcuts = NodePath("VBoxContainer/Shortcuts")
edit_controls = NodePath("VBoxContainer/TitleBar/HBoxContainer/EditControls")

[node name="VBoxContainer" type="VBoxContainer" parent="."]
layout_mode = 2

[node name="TitleBar" type="PanelContainer" parent="VBoxContainer"]
custom_minimum_size = Vector2(0, 60)
layout_mode = 2
size_flags_horizontal = 3
size_flags_vertical = 0
theme_override_styles/panel = ExtResource("2_gjdbe")

[node name="HBoxContainer" type="HBoxContainer" parent="VBoxContainer/TitleBar"]
layout_mode = 2

[node name="Button" type="Button" parent="VBoxContainer/TitleBar/HBoxContainer"]
layout_mode = 2
text = "Panel Settings"
icon = ExtResource("4_1jyub")
flat = true

[node name="ScrollContainer" type="ScrollContainer" parent="VBoxContainer/TitleBar/HBoxContainer"]
layout_mode = 2
size_flags_horizontal = 3
follow_focus = true
horizontal_scroll_mode = 3

[node name="HBoxContainer" type="HBoxContainer" parent="VBoxContainer/TitleBar/HBoxContainer/ScrollContainer"]
layout_mode = 2
size_flags_horizontal = 3
size_flags_vertical = 3

[node name="PanelContainer" type="PanelContainer" parent="VBoxContainer/TitleBar/HBoxContainer/ScrollContainer/HBoxContainer"]
layout_mode = 2
size_flags_horizontal = 6
size_flags_vertical = 4

[node name="HBoxContainer" type="HBoxContainer" parent="VBoxContainer/TitleBar/HBoxContainer/ScrollContainer/HBoxContainer/PanelContainer"]
layout_mode = 2

[node name="SettingsTab" type="Button" parent="VBoxContainer/TitleBar/HBoxContainer/ScrollContainer/HBoxContainer/PanelContainer/HBoxContainer"]
custom_minimum_size = Vector2(100, 0)
layout_mode = 2
toggle_mode = true
button_group = SubResource("ButtonGroup_i7um0")
text = "Settings"

[node name="ShortcutsTab" type="Button" parent="VBoxContainer/TitleBar/HBoxContainer/ScrollContainer/HBoxContainer/PanelContainer/HBoxContainer"]
custom_minimum_size = Vector2(100, 0)
layout_mode = 2
toggle_mode = true
button_pressed = true
button_group = SubResource("ButtonGroup_i7um0")
text = "Shortcuts"

[node name="EditControls" parent="VBoxContainer/TitleBar/HBoxContainer" instance=ExtResource("5_33jeb")]
layout_mode = 2
show_edit = false
show_settings = false

[node name="Settings" type="PanelContainer" parent="VBoxContainer"]
visible = false
layout_mode = 2
size_flags_vertical = 3

[node name="Shortcuts" type="PanelContainer" parent="VBoxContainer" node_paths=PackedStringArray("_button_tree", "_action_tree", "_add_action_button", "_remove_action_button")]
layout_mode = 2
size_flags_vertical = 3
script = ExtResource("6_ct4k6")
_button_tree = NodePath("HBoxContainer/ButtonList")
_action_tree = NodePath("HBoxContainer/VBoxContainer/ActionTree")
_add_action_button = NodePath("HBoxContainer/VBoxContainer/PanelContainer/HBoxContainer/AddAction")
_remove_action_button = NodePath("HBoxContainer/VBoxContainer/PanelContainer/HBoxContainer/RemoveAction")

[node name="HBoxContainer" type="HSplitContainer" parent="VBoxContainer/Shortcuts"]
layout_mode = 2

[node name="ButtonList" type="Tree" parent="VBoxContainer/Shortcuts/HBoxContainer"]
custom_minimum_size = Vector2(300, 0)
layout_mode = 2
size_flags_horizontal = 3
hide_root = true
select_mode = 1

[node name="VBoxContainer" type="VBoxContainer" parent="VBoxContainer/Shortcuts/HBoxContainer"]
layout_mode = 2
size_flags_horizontal = 3

[node name="ActionTree" type="Tree" parent="VBoxContainer/Shortcuts/HBoxContainer/VBoxContainer"]
layout_mode = 2
size_flags_vertical = 3
hide_root = true
select_mode = 1

[node name="PanelContainer" type="PanelContainer" parent="VBoxContainer/Shortcuts/HBoxContainer/VBoxContainer"]
layout_mode = 2

[node name="HBoxContainer" type="HBoxContainer" parent="VBoxContainer/Shortcuts/HBoxContainer/VBoxContainer/PanelContainer"]
layout_mode = 2

[node name="AddAction" type="Button" parent="VBoxContainer/Shortcuts/HBoxContainer/VBoxContainer/PanelContainer/HBoxContainer"]
custom_minimum_size = Vector2(100, 0)
layout_mode = 2
size_flags_horizontal = 3
disabled = true
text = "Add"
icon = ExtResource("6_i3a75")

[node name="RemoveAction" type="Button" parent="VBoxContainer/Shortcuts/HBoxContainer/VBoxContainer/PanelContainer/HBoxContainer"]
custom_minimum_size = Vector2(100, 0)
layout_mode = 2
size_flags_horizontal = 3
disabled = true
text = "Remove"
icon = ExtResource("8_ct4k6")

[connection signal="panel_changed" from="." to="VBoxContainer/Shortcuts" method="set_panel"]
[connection signal="toggled" from="VBoxContainer/TitleBar/HBoxContainer/ScrollContainer/HBoxContainer/PanelContainer/HBoxContainer/SettingsTab" to="VBoxContainer/Settings" method="set_visible"]
[connection signal="toggled" from="VBoxContainer/TitleBar/HBoxContainer/ScrollContainer/HBoxContainer/PanelContainer/HBoxContainer/ShortcutsTab" to="VBoxContainer/Shortcuts" method="set_visible"]
[connection signal="item_selected" from="VBoxContainer/Shortcuts/HBoxContainer/ButtonList" to="VBoxContainer/Shortcuts" method="_on_button_list_item_selected"]
[connection signal="item_selected" from="VBoxContainer/Shortcuts/HBoxContainer/VBoxContainer/ActionTree" to="VBoxContainer/Shortcuts" method="_on_action_tree_item_selected"]
[connection signal="pressed" from="VBoxContainer/Shortcuts/HBoxContainer/VBoxContainer/PanelContainer/HBoxContainer/AddAction" to="VBoxContainer/Shortcuts" method="_on_add_action_pressed"]
[connection signal="pressed" from="VBoxContainer/Shortcuts/HBoxContainer/VBoxContainer/PanelContainer/HBoxContainer/RemoveAction" to="VBoxContainer/Shortcuts" method="_on_remove_action_pressed"]
